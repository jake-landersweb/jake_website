{% extends "base.html" %}

{% load static %}

{% block content %}

<!-- load the required scripts for highlighting code -->

<head>
    <script src="//unpkg.com/@highlightjs/cdn-assets@11.3.1/highlight.js"></script>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.3.1/languages/dart.min.js"></script>
    <script>hljs.highlightAll();</script>
    <title>{{ article.title }}</title>
    <meta name="title" content="{{ article.title }}">
    <meta name="description" content="{{ article.description }}">
    <meta name="tags" content="{{ article.get_tags }}">
    <meta name="date" content="{{ article.date }}">
</head>

<div>
    <div class="p-5 bg-gray-700 space-y-4">
        <!-- for showing article metadata -->
        <div class="">
            <h1 class="text-4xl font-extrabold">
                {{ article.title }}
            </h1>
            <h2 class="text-md text-gray-400">
                {{ article.date }}
            </h2>
            <p class="pb-2 text-gray-400">
                {{ article.get_tags }}
            </p>
        </div>
        <!-- for image assets -->
        <div class="grid grid-cols-2 lg:grid-cols-3 md:gap-8">
            {% for image in images %}
            <div class="rounded-md">
                <img src="{% static image.image.url %}" alt="">
            </div>
            {% endfor %}
        </div>
        <!-- for video assets -->
        <div class="grid grid-cols-1 lg:grid-cols-2 md:gap-8">
            {% for video in videos %}
            <div class="rounded-md">
                <video width="250" controls>
                    <source src=" {% static video.video.url %}" type="video/mp4">
                    <source src="{% static video.video.url %}" type="video/ogg">
                    <b> {{ video.file }} </b>
                </video>
            </div>
            {% endfor %}
        </div>
        <article class="prose sm:max-w-none md:max-w-5xl content-center">
            {{ article.body | safe }}
        </article>
    </div>
    <div class="pt-8"></div>
    <div class="p-5 bg-gray-700">
        {% if replies|length > 0 %}
        <h2 class="text-3xl font-extrabold pb-3">
            Comments
        </h2>
        {% for reply in replies %}
        <div class="bg-gray-800 rounded-lg p-5 max-w-2xl mb-5">
            <div class="pb-3">
                {{ reply.message }}
            </div>
            <div class="text-gray-400">
                - {{ reply.name }}
            </div>
            <div class="text-xs">
                {{ reply.date }}
            </div>
        </div>
        {% endfor %}
        {% endif %}
        <div class="flex items-center max-w-2xl">
            <form class="w-full max-w-2xl bg-gray-800 rounded-lg px-4 pt-2" action="" method="post">
                {% csrf_token %}
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div>
                        <h2 class="px-4 pt-3 text-white text-lg">Leave me some feedback!</h2>
                        <h3 class="px-4 pb-2 text-gray-400 text-sm">No account required</h3>
                    </div>
                    <div class="w-full px-3 mt-2">
                        <textarea
                            class="bg-gray-700 rounded border border-gray-700 leading-normal resize-none w-full h-20 py-2 px-3 font-medium placeholder-gray-400 focus:outline-none focus:border-teal-400"
                            name="message" placeholder='Type Your Comment' required id="message"></textarea>
                    </div>
                    <div class="w-full px-3 mb-3 mt-2">
                        <input
                            class="bg-gray-700 rounded border border-gray-700 leading-normal resize-none w-full py-2 px-3 font-medium placeholder-gray-400 focus:outline-none focus:border-teal-400"
                            name="name" placeholder='Your Name (Optional)' id="name"></input>
                    </div>
                    <div class="w-full flex items-start px-3">

                        <div class="-mr-1">
                            <input type='submit'
                                class="hover:cursor-pointer bg-teal-600 text-white font-medium py-1 px-4 rounded tracking-wide mr-1 hover:opacity-50"
                                value='Post Comment'>
                        </div>
                    </div>
            </form>
        </div>
    </div>
</div>
</div>

{% endblock content %}